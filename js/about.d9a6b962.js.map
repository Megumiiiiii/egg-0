{"version":3,"file":"js/about.d9a6b962.js","mappings":"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","sources":["webpack://egg-picker/./src/components/GameOverPage.vue","webpack://egg-picker/./src/components/GameOverPage.vue?dd60"],"sourcesContent":["<template>\n  \n  <div class=\"container p-4\">\n    <!--<h3>GAME PAGE</h3>-->\n    \n    <div style=\"padding: 50px;\"><h1>Game Over</h1></div>\n    <div>\n      <div style=\"font-size: 62px; font-weight: bold; color: greenyellow; padding: 30px;\" v-if=\"isGameWon\">You Win!</div>\n      <div v-else style=\"font-size: 52px; font-weight: bold; color: red; padding: 30px;\">You Lose! Try Again.</div>\n      <div class=\"row\">\n        <div class=\"col-3\" style=\"font-size: 22px; font-weight: bold; color: blueviolet;\">Final Score: {{score}}</div>\n        <div class=\"col-1\"></div>\n        <div class=\"col-4\" style=\"font-size: 22px; font-weight: bold; color: blueviolet;\">Available Rewards: {{playerRewards}}</div>\n        <div class=\"col-1\"></div>\n        <!--<button class=\"btn btn-success col-2\" @click=\"claimRewards\">Claim Rewards</button> -->\n        <!--<button class=\"btn btn-success col-2\" @click=\"claimAllRewards\" :disabled=\"playerRewards==0\">Claim Rewards</button>-->\n        <button class=\"btn btn-success col-2\" type=\"button\" @click=\"claimAllRewards\" :disabled=\"isClaimingInProgress || playerRewards==0\">\n            <span v-if=\"isClaimingInProgress\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            <span v-if=\"isClaimingInProgress\">Claiming Rewards...</span>\n            <span v-if=\"!isClaimingInProgress\">Claim Rewards</span>\n        </button>\n      </div>\n    </div>\n    \n    <button\n      class=\"btn btn-warning\"\n      @click=\"this.$router.push({ name: 'home' })\"\n      style=\"margin: 40px; padding: 20px;\"\n    >\n      Go Back to Home\n    </button>\n\n    <div>\n      <span style=\"color:red; font-size: 14px;\">Note: Claiming rewards may take more time depending on the network congestion. Please try to refresh page after few minutes if you do not see any response within 2 minutes of claim submission</span>\n    </div>\n  </div>\n  <!--\n  <div>\n    <div>Game Status -> {{gameStatus}}</div>\n    <div>Game Fee -> {{gameFeeCollected}}</div>\n    <div>Rewards in contract -> {{playerRewards}}</div>\n  </div>\n  -->\n</template>\n\n<script>\nimport { ref, onMounted } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport store from '../store/index'\n\nexport default {\n  setup() {\n    let route = useRoute();\n    //console.log('Score -> ' + route.params.score);\n    let player = route.params.player;\n    //console.log('Player Address -> ' + player);\n    let web3 = store.state.web3;\n    //console.log('store data -> ' + web3);\n    \n    let score = route.params.score;\n    let isGameWon = (score > 25) ? true: false;\n    let isClaimingInProgress = ref(false);\n    let gameFeeCollected = ref(0);\n    let playerRewards = ref(0);\n    let gameStatus = ref(false);\n    let gameContract;\n\n    onMounted(async () => {\n      //console.log('on mounted:::::');\n      //console.log('contract address -> ', store.state.eggsGameContractAddress);\n      //console.log('store data -> ' + await web3);\n      //console.log(parseFloat(web3.utils.fromWei(await web3.eth.getBalance(route.params.player))).toFixed(2));\n\n      gameContract = new web3.eth.Contract(store.state.eggsGameContractAbi, store.state.eggsGameContractAddress);\n\n      gameFeeCollected.value = parseFloat(web3.utils.fromWei(await gameContract.methods.feeCollection(player).call())).toFixed(2);\n      //console.log('Fee Collected -> ' + gameFeeCollected.value);\n      playerRewards.value = parseFloat(web3.utils.fromWei(await gameContract.methods.rewards(player).call())).toFixed(2);\n      gameStatus.value = await gameContract.methods.gameStatus(player).call();\n      //console.log('Game Status of this player -> ' + gameStatus.value);\n\n      isClaimingInProgress.value = false;\n    });\n\n    const claimAllRewards = async () => {\n      //console.log('claiming all rewards for player -> ' + player);\n      \n      isClaimingInProgress.value = true;\n\n      await gameContract.methods.claimAllRewards()\n          .send(\n              { \n                  from: player, \n                  //value: web3.utils.toWei(playerRewards.value, 'ether'), \n                  gas: 800000\n              }\n          )\n          .on('receipt', async () => { //async (receipt) => {\n              //console.log('receipt ->' + receipt);               \n              playerRewards.value = parseFloat(web3.utils.fromWei(await gameContract.methods.rewards(player).call())).toFixed(2);\n              isClaimingInProgress = false;\n          });/*\n          .on('error', async (error) => { \n              console.log('error ->' + error);               \n          });*/\n    };\n\n    return {\n      score: score,\n      isGameWon: isGameWon,\n      gameFeeCollected: gameFeeCollected,\n      playerRewards: playerRewards,\n      gameStatus: gameStatus,\n      isClaimingInProgress: isClaimingInProgress,\n      claimAllRewards: claimAllRewards\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>","import { render } from \"./GameOverPage.vue?vue&type=template&id=664c478a\"\nimport script from \"./GameOverPage.vue?vue&type=script&lang=js\"\nexport * from \"./GameOverPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\megum\\\\OneDrive\\\\Documents\\\\Course\\\\thirdweb\\\\egg-picker-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","role","_createElementBlock","_hoisted_2","$setup","_toDisplayString","_hoisted_7","_hoisted_9","type","onClick","disabled","_hoisted_12","_hoisted_13","$router","push","name","_hoisted_14","setup","gameContract","route","useRoute","player","params","web3","store","score","isGameWon","isClaimingInProgress","ref","gameFeeCollected","playerRewards","gameStatus","onMounted","async","eth","Contract","value","parseFloat","utils","fromWei","methods","feeCollection","call","toFixed","rewards","claimAllRewards","send","from","gas","on","__exports__","render"],"sourceRoot":""}